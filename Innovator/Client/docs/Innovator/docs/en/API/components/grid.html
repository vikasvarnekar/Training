<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Grid Component · Aras Innovator Client Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Location"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Grid Component · Aras Innovator Client Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://www.aras.com..\..\..\../index.html"/><meta property="og:description" content="## Location"/><meta property="og:image" content="https://www.aras.com..\..\..\../img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://www.aras.com..\..\..\../img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="..\..\..\../img/favicon.ico"/><link rel="stylesheet" href="..\..\..\../css/code.css"/><script type="text/javascript" src="..\..\..\../js/lunr.min.js"></script><script type="text/javascript" src="..\..\..\../js/autocomplete.min.js"></script><script type="text/javascript" src="..\..\..\../js/search.js"></script><script src="..\..\..\../js/scrollSpy.js"></script><link rel="stylesheet" href="..\..\..\../css/main.css"/><script src="..\..\..\../js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="..\..\..\../en"><img class="logo" src="..\..\..\../img/favicon.ico" alt="Aras Innovator Client Documentation"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="..\..\..\../docs/en/index.html" target="_self">Docs</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="..\..\..\../img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="..\..\..\../docs/ja/API/components/grid.html">日本語</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Components</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Overview</h3><ul class=""><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/index.html">Getting started</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/general/developmentPrinciples.html">Development Principles</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/general/projectStructure.html">Project Structure</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API</h3><ul class=""><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/apiIndex.html">API Overview</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">CUI</h4><ul><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/cui/cuiLayout.html">Layout</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/cui/cuiControls.html">Controls</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/cui/cuiToolbar.html">Toolbar</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/cui/cuiGrid.html">Grid &amp; Plugins</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/cui/cuiContextMenu.html">Context Menu</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/cui/cuiToc.html">TOC</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Components</h4><ul><li class="navListItem navListItemActive"><a class="navItem" href="..\..\..\../docs/en/API/components/grid.html">Grid Component</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/components/toolbar.html">Toolbar Component</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/components/menu.html">Menu Component</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Deprecated</h3><ul class=""><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/deprecatedNamespaces.html">Namespaces</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Aras.Client.Controls.Public</h4><ul><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.Cell.html">Cell</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.GridContainer.html">GridContainer</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.HtmlEditor.html">HtmlEditor</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.TreeGridContainer.html">TreeGridContainer</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.ToolbarItem.html">ToolbarItem</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.Toolbar.html">Toolbar</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.Vault.html">Vault</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.Utils.html">Utils</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Aras.Modules.CMF.Public</h4><ul><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Modules.CMF.Public/Aras.Modules.CMF.Public.CmfStyle.html">CmfStyle</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Modules.CMF.Public/Aras.Modules.CMF.Public.ComputeMethodResultBuilder.html">ComputeMethodResultBuilder</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Modules.CMF.Public/Aras.Modules.CMF.Public.Element.html">Element</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Modules.CMF.Public/Aras.Modules.CMF.Public.Factory.html">Factory</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Modules.CMF.Public/Aras.Modules.CMF.Public.PropertyItem.html">PropertyItem</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Modules.CMF.Public/Aras.Modules.CMF.Public.Tree.html">Tree</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Modules.CMF.Public/Aras.Modules.CMF.Public.MappingModel.html">MappingModel</a></li></ul></div></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Grid Component</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="location"></a><a href="#location" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Location</h2>
<pre><code class="hljs">Innovator.git/Innovator/Client/Modules/components/grid/
    grid.js - main file, public API is defined here
    actions.js -<span class="hljs-built_in"> default </span>grid actions (listened custom events) <span class="hljs-keyword">and</span> subscriptions <span class="hljs-keyword">to</span> these events
    view.js - module responsible <span class="hljs-keyword">for</span> rendering. Manipulates templates, formatters <span class="hljs-keyword">and</span> editors <span class="hljs-keyword">in</span> order <span class="hljs-keyword">to</span> create real DOM <span class="hljs-keyword">for</span> grid
    templates.js - rendering functions <span class="hljs-keyword">for</span> <span class="hljs-string">"above-cell"</span> structires like rows, headers, entire viewport, groups of columns etc.
    formatters.js -<span class="hljs-built_in"> default </span>grid formatters which accept cell, its data <span class="hljs-keyword">and</span> metadata <span class="hljs-keyword">to</span> produce VDOM nodes <span class="hljs-keyword">for</span> future rendering
    dataTypeFormatters.js - grid formatters <span class="hljs-keyword">for</span> all the data types existing <span class="hljs-keyword">in</span> Innovator
    editors.js - <span class="hljs-string">"formatters that support editing"</span>. Accept cell, its data <span class="hljs-keyword">and</span> metadata produce interactive inputs (of different types) with defined validation rules
    sorters.js - mechanisms of sorting <span class="hljs-keyword">for</span> columns of different values depending on their<span class="hljs-built_in"> type
</span>    keyboard.js - keyboard navigation support <span class="hljs-keyword">for</span> grid
    search.js - formatters <span class="hljs-keyword">for</span> search row
    utils.js - data strutures definition
    validators - validation functions <span class="hljs-keyword">for</span><span class="hljs-built_in"> default </span>types. Used by editors
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="purpose"></a><a href="#purpose" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Purpose</h2>
<p>Grid is used as a dynamic table for data displaying and editing. Supported features are:</p>
<ul>
<li>Virtual scrolling</li>
<li>Batch updates</li>
<li>Freezable columns</li>
<li>Custom formatters/editors/sorters could be used</li>
<li>Resizable columns</li>
<li>Search row</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="public-api"></a><a href="#public-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Public API</h2>
<h3><a class="anchor" aria-hidden="true" id="methods-and-properties"></a><a href="#methods-and-properties" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Methods and properties</h3>
<p>Constructor and general purpose methods:</p>
<ul>
<li><strong>new Grid(dom, options)</strong> - create new instance of grid, bound to the passed <em>dom</em> and with provided <em>options</em>:
<ul>
<li>multiSelect (default: true) - enable/disable multi select</li>
<li>resizable (default: true) - enable/disable resize of columns</li>
<li>search (default: false) - show/hide simple search</li>
<li>editable (default: false) - enable/disable edit cell</li>
<li>sortable (default: true) - enable/disable sort columns</li>
<li>freezableColumns (default: false) - enable/disable freeze of columns</li>
</ul></li>
<li><strong>.render()</strong> - starts grid rendering, returns rendering Promise which will be resolved when rendering is finished</li>
<li><strong>.cancelEdit()</strong> - forces the grid to exit from the edit mode in case any cell is being actively edited at the moment</li>
</ul>
<p>Grid data and settings:</p>
<ul>
<li><strong>.head</strong> - retutns HeadWrap object:
<ul>
<li><strong><em>[set Map]</em></strong> - set new head data. Causes grid rendering</li>
<li><strong>.head.get(uniqueColumnId, [property])</strong> - get the data of entire column or its property</li>
<li><strong>.head.set(uniqueColumnId, value, [property])</strong> - set the data to the column or its property. Causes grid rendering.</li>
<li><strong>.head.has(uniqueColumnId)</strong> - check whether the column with such key exists</li>
<li><strong>.head.delete(uniqueColumnId)</strong> - delete the column with certain key</li>
</ul></li>
<li><strong>.rows</strong> - retutns RowsWrap object:
<ul>
<li><strong><em>[set Map]</em></strong> - set new row data. Causes grid rendering</li>
<li><strong>.rows.get(uniqueRowId, [property])</strong> - get the data of entire row or its property</li>
<li><strong>.head.set(uniqueRowId, value, [property])</strong> - set the data to the row or its property. Causes grid rendering.</li>
<li><strong>.head.has(uniqueRowId)</strong> - check whether the row with such key exists</li>
<li><strong>.head.delete(uniqueRowId)</strong> - delete the row with certain key</li>
</ul></li>
<li><strong>.settings.frozenColumns {number}</strong> - setting for the number of frozen columns (counting from the left)</li>
<li><strong>.settings.indexHead {array&lt;headId&gt;}</strong> - setting for the order of displayed columns</li>
<li><strong>.settings.indexRows {array&lt;rowId&gt;}</strong> - setting for the order of displayed rows</li>
<li><strong>.settings.selectedRows {array&lt;rowId&gt;}</strong> - ids of selected rows</li>
<li><strong>.settings.focusedCell</strong>
<ul>
<li><strong><em>[get]</em></strong> - get {headId, rowId, editing} object representing currently active grid cell</li>
<li><strong><em>[set Object]</em></strong> - set next focused cell. If the previous cell was in edit mode,
the value in it will be validated and set to the corresponding property of <em>row</em></li>
</ul></li>
</ul>
<p>Head properties:</p>
<ul>
<li><strong>.label {string}</strong> - label which set as name of column
<ul>
<li>default is empty string</li>
</ul></li>
<li><strong>.columnCssStyles {Object style}</strong> - which styles should be settled on column and should be presented as JavaScript style Object</li>
<li><strong>editable {boolean}</strong> - the prevent or allow to edit cell for the column
<ul>
<li>default is grid edit global setting</li>
</ul></li>
<li><strong>searchType {string}</strong> - search editor which will be executed for the column
<ul>
<li>default is <code>string</code></li>
</ul></li>
<li><strong>width {number}</strong> - column with in px</li>
<li><strong>searchValue {any}</strong> - result of input from search editor</li>
<li><strong>name {string}</strong> - a property name of data in row Object but can be link on anohter row by <code>linkProperty</code></li>
<li><strong>linkProperty {string}</strong> - link on row property which should be <code>null</code> or a row key. Then get value by <code>head.name</code> from another link row Object for rendering cell.</li>
</ul>
<p>Event handling:</p>
<ul>
<li><strong>.on(type, callback, element)</strong> - subscribe to an <em>event</em> which happens on <em>element (row/cell/head)</em> and calls a callback</li>
<li><strong>.off(type, callback)</strong> - unsubscribe the <em>callback</em> from the <em>event</em></li>
</ul>
<p>Methods which allow to extend cell-level behavior:</p>
<ul>
<li><strong>Grid.formatters.extend(customFormatters)</strong> - the method which allows to add new formatters to grid</li>
<li><strong>Grid.editors.extend(customFormatters)</strong> - [NOT IMPLEMENTED YET. use <code>Grid.editors.myEditor = function() {...}</code> instead]
the method which allows to add new editors to grid</li>
<li><strong>Grid.sorters.extend(customFormatters)</strong> - the method which allows to add new sorters to grid</li>
</ul>
<p>Public API methods that are meant to be overridden on the particular instance of the grid:</p>
<ul>
<li><strong>.getCellType(headId, itemId, value, type, rowId)</strong> - handler which will be executed during rendering
of a certain cell to decide which formatter should be used for it</li>
<li><strong>.getEditorType(headId, itemId, value, type, rowId)</strong> - handler which will be executed during rendering
of a certain cell in edit mode to decide which editor should be used for it</li>
<li><strong>.checkEditAvailability(headId, itemId, grid)</strong> - handler which will be executed during rendering
of a certain cell to decide whether it can be shown in edit mode</li>
<li><strong>.getCellMetadata(headId, itemId, type)</strong> - handler which will be executed before call of the formatter/editor
responsible for collecting all the required for rendering information about certain cell</li>
<li><strong>.sort()</strong> - hanlder which will be run for grid's rows sorting</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="events"></a><a href="#events" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Events</h3>
<p>List of supported events:</p>
<ul>
<li><strong>resizeHead</strong> - a column has been resized. Data passed as <code>detail</code>:
<ul>
<li><em>index</em> - index of the head</li>
</ul></li>
<li><strong>selectRow</strong> - a row has been selected. Data passed as <code>detail</code>:
<ul>
<li><em>index</em> - index of the row</li>
</ul></li>
<li><strong>focusCell</strong> - the cell has been focused. If detail is null it is mean focus out. Data passed as <code>detail</code>:
<ul>
<li><em>indexHead</em> - index of a head, which the cell belongs to</li>
<li><em>indexRow</em> - index of a row, which the cell belongs to</li>
</ul></li>
<li><strong>applyEdit</strong> - cpply editing value in Grid. Data passed as <code>detail</code>:
<ul>
<li><em>rowId</em> - id of a row the cell belongs to</li>
<li><em>headId</em> - id of a head the cell belongs to</li>
<li><em>value</em> - provided value</li>
</ul></li>
<li><strong>cancelEdit</strong> - editing has been canceled. No additional data for the event</li>
<li><strong>moveHead</strong> - drag and drop of a column. Data passed as <code>detail</code>:
<ul>
<li><em>startIndex</em> - index of a head where the head has been moved from</li>
<li><em>endIndex</em> - index of a head where the head has been moved to</li>
</ul></li>
<li><strong>sort</strong> - sorting of rows has been executer. Data passed as <code>detail</code>:
<ul>
<li><em>index</em> - index of the head the sorting was run for</li>
<li><em>ctrlKey</em> - flag indeicating whether the ctrl (or meta for MacOS) was pressed.
Required for handling sorting across multiple columns cases</li>
</ul></li>
<li><strong>notValidCEdit</strong> - during editing of the cell not allowed provided value has been detected. Data passed as <code>detail</code>:
<ul>
<li><em>message</em> - the warning message provided by validation function</li>
</ul></li>
<li><strong>freezeColumns</strong> - frozen columns setting has changed. Data passed as <code>detail</code>:
<ul>
<li><em>frozenColumns</em> - the index of the last frozen column</li>
</ul></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="how-it-works"></a><a href="#how-it-works" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How it works</h2>
<p><img src="..\..\..\../docs/assets/images/grid__how-it-works__working-scheme.svg" alt="Grid working scheme"></p>
<p>Under the hood there is a very strict data flow in the grid which you can see on the scheme.
And for almost each task you'll be solving with grid it will remain the same.
So, let's go through all of them:</p>
<ol>
<li><em>Create</em> an instance of <strong>Grid</strong> using constructor.</li>
<li><em>Pass the data</em>. Once the grid is set up with all the required settings, it is time to provide some data for it:
just use public <strong>.head</strong> and <strong>.rows</strong> API for passing the data and grid will render automatically (asynchronously).</li>
<li><em>Rendering</em>. Rendering happens based on the provided data and settings each time something is changed in grid.
This data is passed to so called <em>formatters</em> which are used for rendering of the cells.</li>
</ol>
<p><img src="..\..\..\../docs/assets/images/grid__how-it-works__rendering-scheme.svg" alt="Grid rendering scheme"></p>
<ol>
<li><p><em>Interactions</em>. In order to provide an ability to interact with the grid,
there is an established event system which is considered public API.
The general approach is the following:
after grid instantiation, once you need to know that something has happened in the grid,
you have to subscribe for an event using <code>.on</code> method.
You should specify <em>eventType</em>, <em>callback</em> and the <em>element</em> you want to observe.
Signature of the method: <code>on(type, callback, element)</code></p>
<p>Callback will receive all the required data.
If some additional information is necessary for the certain event, it will be passed as <code>event.detail</code>.
Callback signature: <code>function(headId, rowId, event): void</code></p>
<p>Additionally you can pass the <code>element</code> if you want to observe only the specific area of the grid.
Supported values are <code>row</code>,<code>cell</code> and <code>head</code>.
If none was specified, the event will be listened on the entire grid's DOM element.</p>
<p>In order to detach no longer needed subscription, just call the <code>off(eventType, callback)</code> function.</p></li>
<li><p><em>Editing</em>. Grid provides out-of-the-box functionality for editing.
Editing could be done in a simple way when any value user has entered would be accepted,
or it can involve some advanced data transformations and asynchronous validations.
There are some concepts to be understood when dealing with editing:</p>
<p>a. Editing starts with cell focusing.
Editing state could be set/recognized through the value of the object stored in <code>grid.setting.focusedCell</code> -
it has <code>editing</code> property set to <code>true</code> while editing.</p>
<p>b. Editing finishes with cell defocusing and setting <code>editing</code> to <code>false</code> for the <code>focusedCell</code>.
When editing is finished the value in the cell would be validated and applied.
If validation fails, the cell will remain active, showing validation message.</p>
<p>c. Switching between those states is done via <code>.render</code> method which includes rendering of active cell</p>
<p><img src="..\..\..\../docs/assets/images/grid__how-it-works__editing-scheme.svg" alt="Grid editing scheme"></p>
<p>d. Terms:</p>
<ul>
<li><p><em>editor</em> - function which accepts DOM,
cell info and its value in order to prepare and render the editor required for cells of such type.
Can set custom listeners to the DOM, watching events like 'input'.
Returns <em>validator</em>.</p></li>
<li><p><em>validator</em> - function that accepts no parameters and returns an object <code>{value, willValidate}</code>.
Since the function is usually is returned from the <em>editor</em>, it can have access to the DOM and all the cell info -
so the goal of the function is to take a real value (in most cases from an input-like control)
and adapt it according to business rules (e.g. trim, convert to neutral date format, etc.)
for further validation or direct application as a value for certain property.</p></li>
<li><p><em>willValidate</em> - asynchronous function that will either allow to apply the provided value to the cell
(returning a resolved with the target value Promise) or will fail value validation preventing de-focus of the cell and
forcing validation message to appear (return rejected Promise with the message).
Accepts the <code>value</code> from the <em>validator</em> as an input parameter.
If <em>willValidate</em> function is not provided, <em>validator</em>'s <code>value</code> would be applied as-is</p></li>
<li><p><em>checkValidity</em> - function that will take a raw value from the input and perform its validation,
returns an object <code>{valid: Boolean, validationMessage: String}</code> where <em>validationMessage</em> provides details about the error
occured during validation and will be shown as a error tooltip.
IMPORTANT NOTE:
This function is used within default editors and is not a part of public API.
It is better to treat this function as a handy internal utility method which is a part of the implementation of
<em>willValidate</em> for default editors.
If you reuse any of them, you can pass this method as <code>metadata.checkValidity</code> and editor would automatically use it.</p></li>
</ul>
<p><img src="..\..\..\../docs/assets/images/grid__how-it-works__editor-choice.svg" alt="Grid editing scheme"></p></li>
<li><p><em>Customizations</em>. There are a number of ways to customize a grid, but all of them <em>must</em> be done via public API.
To put it simple, in order to customize the way grid behaves you should either override public API functions
(like <code>getCellType</code>, <code>getCellMetadata</code> etc.) or extend the existing behavior via
adding additional editors/formatters/sorters using <code>.extend</code> methods of corresponding properties of <code>Grid</code>.</p></li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="examples"></a><a href="#examples" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Examples</h2>
<h3><a class="anchor" aria-hidden="true" id="rendering-customization"></a><a href="#rendering-customization" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rendering customization</h3>
<p><strong>Task:</strong> add a new column to grid which will render your custom calculated property and show it on the yellow background.
Cells should also have custom css class.</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// let's say we have a grid</span>
<span class="hljs-keyword">const</span> grid = <span class="hljs-keyword">new</span> Grid(...);
grid.head = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>(...);
grid.rows = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>(...);

<span class="hljs-comment">// By default .getCellType supports either 'text' or 'boolean' types</span>
<span class="hljs-comment">// Let's teach it extracting the value from the column definition</span>
<span class="hljs-keyword">const</span> originalGetCellType = grid.getCellType;
grid.getCellType = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">headId, itemId, value, type, rowId</span>) </span>{
    <span class="hljs-keyword">const</span> customType = <span class="hljs-keyword">this</span>.head.get(headId, <span class="hljs-string">'type'</span>); <span class="hljs-comment">// "this" refers to grid here</span>
    <span class="hljs-keyword">return</span> customType || originalGetCellType(headId, itemId, value, type, rowId); <span class="hljs-comment">// fallback</span>
};

<span class="hljs-comment">// create a column definition object and add it to grid</span>
grid.head.set(
    <span class="hljs-string">'myColumn'</span>, <span class="hljs-comment">// key, will be used as headId</span>
    {
        <span class="hljs-attr">label</span>: <span class="hljs-string">'My Column'</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'myDataType'</span>, <span class="hljs-comment">// will be used in .getCellType</span>
        <span class="hljs-attr">name</span>: <span class="hljs-string">'myTestProperty'</span>, <span class="hljs-comment">// will be used to access the value: row[myColumn.name]</span>
        <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>
    }
);

<span class="hljs-comment">// then you have to set the data. Here we'll create new data, but you can update your existing rows</span>
<span class="hljs-keyword">const</span> rows = [];
<span class="hljs-keyword">const</span> rowsCount = <span class="hljs-number">10</span>;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; rowsCount; i++) {
    <span class="hljs-keyword">const</span> row = {
        <span class="hljs-attr">id</span>: i,
        <span class="hljs-attr">myTestProperty</span>: <span class="hljs-string">'hello '</span> + i
    };
    rows.push(row);
};
<span class="hljs-keyword">const</span> newRowsMap = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>();
rows.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">row</span>) </span>{
    newRowsMap.set(row.id, row);
});
grid.rows = newRowsMap;

<span class="hljs-comment">// add custom formatter for your dataType</span>
<span class="hljs-keyword">const</span> myFormatter = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">headId, rowId, value</span>) </span>{
    <span class="hljs-keyword">const</span> cellStyle = {
        <span class="hljs-string">'background-color'</span>: <span class="hljs-string">'yellow'</span>
    };
    <span class="hljs-keyword">const</span> customCssClass = <span class="hljs-string">'my-css-class'</span>;
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">style</span>: cellStyle,
        <span class="hljs-attr">className</span>: customCssClass,
        <span class="hljs-attr">children</span>: [
            value <span class="hljs-comment">// would be 'hello {number}'</span>
        ]
    }
};
Grid.formatters.extend({
    <span class="hljs-attr">myDataType</span>: myFormatter <span class="hljs-comment">// key is the same as the value returned from .getCellType</span>
});

<span class="hljs-comment">// and that's it! grid will render automatically (asynchronously),</span>
<span class="hljs-comment">// but you can always call it manually via:</span>
grid.render();

</code></pre>
<h3><a class="anchor" aria-hidden="true" id="editing-and-validation-customization"></a><a href="#editing-and-validation-customization" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Editing and validation customization</h3>
<p><strong>Task:</strong> add a column where only even numbers are allowed. Forbid editing in any odd row.</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// let's say we have a grid</span>
<span class="hljs-keyword">const</span> grid = <span class="hljs-keyword">new</span> Grid(someDomNode, {<span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>}); <span class="hljs-comment">// enable editing</span>
grid.head = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>(...);
grid.rows = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>(...);

<span class="hljs-comment">// create a column definition object and add it to grid</span>
grid.head.set(
    <span class="hljs-string">'customColumn'</span>,
    {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'even'</span>,
        <span class="hljs-attr">label</span>: <span class="hljs-string">'Even numbers only'</span>,
        <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">'evenProperty'</span>
    }
);

<span class="hljs-comment">// preserve methods which will be overridden</span>
<span class="hljs-keyword">const</span> originalGetCellType = grid.getCellType;
<span class="hljs-keyword">const</span> originalGetCellMetadata = grid.getCellMetadata;
<span class="hljs-keyword">const</span> originalCheckEditAvailability = grid.checkEditAvailability;

<span class="hljs-comment">// By default .getCellType supports either 'text' or 'boolean' types.</span>
<span class="hljs-comment">// Let's teach it extracting the value from the column definition.</span>
<span class="hljs-comment">// This value would be used both for formatters and editors.</span>
<span class="hljs-comment">// If you want to use an editor with the different name (comparing to formatter) override .getEditorType as well</span>
grid.getCellType = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">headId, itemId, value, type, rowId</span>) </span>{
    <span class="hljs-keyword">const</span> customType = <span class="hljs-keyword">this</span>.head.get(headId, <span class="hljs-string">'type'</span>); <span class="hljs-comment">// "this" refers to grid here</span>
    <span class="hljs-keyword">return</span> customType || originalGetCellType(headId, itemId, value, type, rowId); <span class="hljs-comment">// fallback</span>
};
<span class="hljs-comment">// Provide your custom validation function to editor as "checkValidity" method</span>
grid.getCellMetadata = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">headId, itemId, type</span>) </span>{
    <span class="hljs-keyword">if</span> (type === <span class="hljs-string">'even'</span>) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">checkValidity</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
                <span class="hljs-keyword">const</span> isNumber = value &amp;&amp; !<span class="hljs-built_in">isNaN</span>(<span class="hljs-built_in">parseInt</span>(value));
                <span class="hljs-keyword">const</span> isEven = isNumber &amp;&amp; (value % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>)
                <span class="hljs-keyword">if</span> (isEven) {
                    <span class="hljs-keyword">return</span> {
                        <span class="hljs-attr">valid</span>: <span class="hljs-literal">true</span>
                    };
                }
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-attr">valid</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">validationMessage</span>: <span class="hljs-string">'Provided value is not an even number'</span>
                }
            }
        }
    }
    <span class="hljs-keyword">return</span> originalGetCellMetadata(headId, itemId, type);
};
<span class="hljs-comment">// Override default logic with your custom one</span>
grid.checkEditAvailability = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">headId, itemId, grid</span>) </span>{
    <span class="hljs-keyword">const</span> isOddRow = itemId % <span class="hljs-number">2</span> === <span class="hljs-number">1</span>
    <span class="hljs-keyword">if</span> (isOddRow) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">return</span> originalCheckEditAvailability(headId, itemId, grid);
};

<span class="hljs-comment">// then you have to set the data. Here we'll create new data, but you can update your existing rows</span>
<span class="hljs-keyword">const</span> rows = [];
<span class="hljs-keyword">const</span> rowsCount = <span class="hljs-number">10</span>;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; rowsCount; i++) {
    <span class="hljs-keyword">const</span> row = {
        <span class="hljs-attr">id</span>: i,
        <span class="hljs-attr">evenProperty</span>: <span class="hljs-number">0</span>
    };
    rows.push(row);
};
<span class="hljs-keyword">const</span> newRowsMap = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>();
rows.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">row</span>) </span>{
    newRowsMap.set(row.id, row);
});
grid.rows = newRowsMap;

<span class="hljs-comment">// create your editor which will use custom validation function (passed through metadata)</span>
<span class="hljs-comment">// and use default editor as basis</span>
<span class="hljs-keyword">const</span> evenEditor = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dom, headId, rowId, value, grid, metadata</span>) </span>{
    <span class="hljs-keyword">const</span> clonedMetadata = <span class="hljs-built_in">Object</span>.assign({}, metadata);
    <span class="hljs-keyword">return</span> Grid.editors.text(dom, headId, rowId, value, grid, clonedMetadata);
};

<span class="hljs-comment">// extend the set of editors available to grid with yours one</span>
Grid.editors.even = evenEditor;

<span class="hljs-comment">// also you can handle each incorrect input listening to event</span>
grid.on(<span class="hljs-string">'notValidEdit'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">headId, rowId, event</span>) </span>{
    <span class="hljs-comment">// handle here</span>
}, <span class="hljs-string">'cell'</span>);

</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="..\..\..\../docs/en/API/cui/cuiToc.html"><span class="arrow-prev">← </span><span>TOC</span></a><a class="docs-next button" href="..\..\..\../docs/en/API/components/toolbar.html"><span>Toolbar Component</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#location">Location</a></li><li><a href="#purpose">Purpose</a></li><li><a href="#public-api">Public API</a><ul class="toc-headings"><li><a href="#methods-and-properties">Methods and properties</a></li><li><a href="#events">Events</a></li></ul></li><li><a href="#how-it-works">How it works</a></li><li><a href="#examples">Examples</a><ul class="toc-headings"><li><a href="#rendering-customization">Rendering customization</a></li><li><a href="#editing-and-validation-customization">Editing and validation customization</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="..\..\..\../index.html" class="nav-home"><img src="..\..\..\../img/favicon.ico" alt="Aras Innovator Client Documentation" width="66" height="58"/></a></section><section class="copyright">Copyright © 2020 Aras.</section></footer></div></body></html>