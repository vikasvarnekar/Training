<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Menu Component · Aras Innovator Client Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Location"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Menu Component · Aras Innovator Client Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://www.aras.com..\..\..\../index.html"/><meta property="og:description" content="## Location"/><meta property="og:image" content="https://www.aras.com..\..\..\../img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://www.aras.com..\..\..\../img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="..\..\..\../img/favicon.ico"/><link rel="stylesheet" href="..\..\..\../css/code.css"/><script type="text/javascript" src="..\..\..\../js/lunr.min.js"></script><script type="text/javascript" src="..\..\..\../js/autocomplete.min.js"></script><script type="text/javascript" src="..\..\..\../js/search.js"></script><script src="..\..\..\../js/scrollSpy.js"></script><link rel="stylesheet" href="..\..\..\../css/main.css"/><script src="..\..\..\../js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="..\..\..\../en"><img class="logo" src="..\..\..\../img/favicon.ico" alt="Aras Innovator Client Documentation"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="..\..\..\../docs/en/index.html" target="_self">Docs</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="..\..\..\../img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="..\..\..\../docs/ja/API/components/menu.html">日本語</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Components</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Overview</h3><ul class=""><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/index.html">Getting started</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/general/developmentPrinciples.html">Development Principles</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/general/projectStructure.html">Project Structure</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API</h3><ul class=""><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/apiIndex.html">API Overview</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">CUI</h4><ul><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/cui/cuiLayout.html">Layout</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/cui/cuiControls.html">Controls</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/cui/cuiToolbar.html">Toolbar</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/cui/cuiGrid.html">Grid &amp; Plugins</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/cui/cuiContextMenu.html">Context Menu</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/cui/cuiToc.html">TOC</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Components</h4><ul><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/components/grid.html">Grid Component</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/API/components/toolbar.html">Toolbar Component</a></li><li class="navListItem navListItemActive"><a class="navItem" href="..\..\..\../docs/en/API/components/menu.html">Menu Component</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Deprecated</h3><ul class=""><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/deprecatedNamespaces.html">Namespaces</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Aras.Client.Controls.Public</h4><ul><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.Cell.html">Cell</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.GridContainer.html">GridContainer</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.HtmlEditor.html">HtmlEditor</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.TreeGridContainer.html">TreeGridContainer</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.ToolbarItem.html">ToolbarItem</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.Toolbar.html">Toolbar</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.Vault.html">Vault</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Client.Controls.Public/Aras.Client.Controls.Public.Utils.html">Utils</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Aras.Modules.CMF.Public</h4><ul><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Modules.CMF.Public/Aras.Modules.CMF.Public.CmfStyle.html">CmfStyle</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Modules.CMF.Public/Aras.Modules.CMF.Public.ComputeMethodResultBuilder.html">ComputeMethodResultBuilder</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Modules.CMF.Public/Aras.Modules.CMF.Public.Element.html">Element</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Modules.CMF.Public/Aras.Modules.CMF.Public.Factory.html">Factory</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Modules.CMF.Public/Aras.Modules.CMF.Public.PropertyItem.html">PropertyItem</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Modules.CMF.Public/Aras.Modules.CMF.Public.Tree.html">Tree</a></li><li class="navListItem"><a class="navItem" href="..\..\..\../docs/en/deprecated/Aras.Modules.CMF.Public/Aras.Modules.CMF.Public.MappingModel.html">MappingModel</a></li></ul></div></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Menu Component</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="location"></a><a href="#location" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Location</h2>
<p><code>Innovator/Client/Modules/components/menu.js</code> - main file for menu component.
Public API and component definition are placed here.</p>
<h2><a class="anchor" aria-hidden="true" id="purpose"></a><a href="#purpose" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Purpose</h2>
<p>Menu is a <strong>Web-component</strong> <code>aras-menu</code> which's purpose is to render menus themselves and
to be used as a basement for other components, for example context menus or dropdown menus</p>
<p>Some examples of places where menu component is used at the moment:</p>
<ul>
<li>User Menu</li>
<li>Context menus of grids</li>
<li>Dropdown menus of command bars</li>
</ul>
<p><img src="..\..\..\../docs/assets/images/menu__examples__user-menu.png" alt="Menu example: User Menu"></p>
<hr>
<p><img src="..\..\..\../docs/assets/images/menu__examples__context-menu.png" alt="Menu example: Context Menu"></p>
<hr>
<p><img src="..\..\..\../docs/assets/images/menu__examples__dropdown-menu.png" alt="Menu example: Dropdown menu"></p>
<hr>
<h2><a class="anchor" aria-hidden="true" id="public-api"></a><a href="#public-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Public API</h2>
<p>Web-component API:</p>
<ul>
<li>Since menu is an implementation of web-component, it supports all its features.
Information below provides information about customizations made for menu, but for general info, please see
<a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements#Using_the_lifecycle_callbacks">MDN Web Components resource</a>.</li>
</ul>
<p>Constructor:</p>
<ul>
<li><strong>document.createElement('aras-menu'): HTMLCustomElement</strong> - create a new instance of menu (also <code>&lt;aras-menu&gt;&lt;/aras-menu&gt;</code>).</li>
</ul>
<p>Inherited methods and properties:</p>
<ul>
<li><strong>.connectedCallback(): void</strong> - subscribes event listeners for handling keyboard interactions
and focusout</li>
</ul>
<p>Methods and properties:</p>
<ul>
<li><p><strong>.state</strong> - object describing current state of the menu.
Please do not work with this object directly, use API methods like <em>setState</em> or <em>applyData</em> instead.
Properties of the <em>state</em>:</p>
<ul>
<li><p><strong><em>.data {Map (&lt;key: string, value: object&gt;)}</em></strong> -
data which will be used by menu to render its content.
<em>id</em> of a particular menu entry is used as a key.
All menu entries are stored here, regardless of the level of the menu they belong to.
If a menu entry is a parent itself, meaning that there is a submenu level under it,
<em>ids</em> of nested entries should be declared in the <em>children</em> property of parent entry.
Here is a structure used for menu entries declaration:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> data = {
    <span class="hljs-attr">new</span>: {
        <span class="hljs-attr">label</span>: <span class="hljs-string">'new..'</span>, <span class="hljs-comment">// visible text</span>
        <span class="hljs-attr">disabled</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// [optional&lt;boolean&gt;] entry will be displayed, but non-actionable</span>
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'../images/someIcon.svg'</span>, <span class="hljs-comment">// [optional&lt;string&gt;] path to image, or vault id (like 'vault:///?fileId=06692C1E7B08468EB7FA1BAD44FF6524'). You can also use "image" as an alias for the property</span>
        <span class="hljs-attr">cssStyle</span>: <span class="hljs-string">'background-color: red'</span>, <span class="hljs-comment">// [optional&lt;string&gt;] custom CSS which will be inlined for entry</span>
        <span class="hljs-attr">shortcut</span>: <span class="hljs-string">'Ctrl+V'</span> <span class="hljs-comment">// [optional&lt;string&gt;] shortcut for the entry. Note: the value is a string only, shortcut itself should be initialized separately - menu is not responsible for it</span>
        <span class="hljs-attr">hidden</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// [optional&lt;boolean&gt;] entry will not be displayed</span>
        <span class="hljs-attr">type</span>: <span class="hljs-string">'menu'</span>, <span class="hljs-comment">// [optional&lt;string&gt;] regular entry by default, supported: "menu", "separator", "checkbox"</span>
        <span class="hljs-attr">checked</span>: <span class="hljs-literal">undefined</span>, <span class="hljs-comment">// [optional&lt;boolean&gt;] checked entry (if of type "checkbox") or checked across multiple entries belonged to the same group_id</span>
        <span class="hljs-attr">group_id</span>: <span class="hljs-literal">undefined</span>, <span class="hljs-comment">// [optional&lt;string&gt;] name of the group of multiple entries</span>
        <span class="hljs-attr">children</span>: [<span class="hljs-string">'word'</span>, <span class="hljs-string">'excel'</span>] <span class="hljs-comment">// [optional&lt;Array&gt;] list of keys of items in submenu</span>
    },
    <span class="hljs-attr">word</span>: {
        <span class="hljs-attr">label</span>: <span class="hljs-string">'word'</span>
    }
}
</code></pre></li>
<li><p><strong><em>.roots {array&lt;id: string&gt;}</em></strong> - keys of menu entries which should be used for the first level of the menu</p></li>
<li><p><strong><em>.expandedItems {array&lt;id: string&gt;}</em></strong> - keys of parent menu entries which are expanded at the moment</p></li>
<li><p><strong><em>.focusedItems {array&lt;id: string&gt;}</em></strong> -  keys of parent menu entries which are focused at the moment</p></li>
</ul></li>
<li><p><strong>.setState(nextState: Object)</strong> - the method for changing the state of the menu.
After successful applying, the menu would be re-rendered.</p></li>
<li><p><strong>.applyData(data: Map, roots: Array<string>)</strong> - the method for setting menu entries data.
Automatically invokes menu rendering</p></li>
<li><p><strong>.resetList()</strong> - cleans the state up in terms of focused and expanded entries</p></li>
<li><p><strong>.calcSubmenuPosition(parentMenuItem: Element, options: Object)</strong> - calculates position of menu or submenu of any level
corresponding to the point, where the menu was rendered.</p>
<p>This method should be invoked for positioning of the root menu (make sure you call it
if menu is rendered as part of other component, e.g. dropdown) or any nested menu
(called automatically by mouseover handler).</p>
<p>The method will try to render the menu relative to the target point, which is defined
by the coords of <code>aras-menu</code> tag, in a way that menu fits to the visible area as
much as possible.</p>
<p>Default case is the following: there is enough space around menu and it will appear
to the bottom and to the right from the target menu.
If there is no enough vertical space to bottom, menu will be rendered to the top.
If there is no place for menu below or above target point, the menu will expand to
the full height of the frame, minimizing scrollable area.</p>
<p>In terms of horizontal positioning, menu will try to open to the right by default,
if it can't be rendered to the right, the menu would be rendered to the left.
In the worst case when both right and left sides don't have enough space, the menu
will appear overlapping its parent.</p>
<p><strong><em>options</em></strong> should be used for specific cases:</p>
<ul>
<li><p><strong>options.preventGreedyVerticalExpansion*</strong> - should be set to true, in case you
don't want the menu to expand vertically in case of lack of vertical space.
Real use-case - dropdown menu appearing under button: you don't want the menu to
overlap dropdown button, even if there is no enough space below it.</p></li>
<li><p><strong>options.horizontalAlignmentSide*</strong> - should be set to &quot;<em>left</em>&quot; or &quot;<em>right</em>&quot; if
you don't want the menu to be automatically switched to the oppoiste horizontal side
if there is no space to the right/left from the target point. Typical use-case -
dropdown menus aligned vertically by parent: the menu should be shifted as least
as possible so that the content is visible, but should not be flipped</p></li>
</ul></li>
<li><p><strong>.on(event: string, callback: Function): Function</strong> - the method allowing to subscribe to events in menu.
Callback should be of the signature: <code>const callback = (menuEntryId, event) =&gt; {...};</code>,
where <em>menuEntryId</em> is the id of entry which received the event, <em>event</em> is a dom event.
Return value is a function, allowing to unsubscribe provided callback from the event.</p></li>
<li><p><strong>.renderRecursive(data: Map, roots: array<ids>): VirtualDOM</strong> - the method allowing to build
DOM menu structure based on the provded <em>data</em> and <em>roots</em>.
Returned DOM is already subscribed to various handlers
(keyboard navigation, appearing on mouseenter, closing on blur etc).
If there is a <em>formatter</em> defined, it would be used for menu entries,
otherwise default template, showing icon, label, shortcut and arrow (if necessary)
would be used.</p></li>
<li><p><strong>.render()</strong> - starts menu rendering using the data from state.</p></li>
<li><p><strong>.formatter(id: string, item: Object): VirtualDOM</strong> - method to be used to define custom way of menu entries rendering.
This formatter will not be applied for entries which are of &quot;separator&quot; type - separators would be rendered using default styling.
Accepted <em>id</em> argument is a key, by which the node is identified in menu data structure,
<em>item</em> is a corresponding object, describing menu entry properties.
Example of formatter's usage:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> menu = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'aras-menu'</span>);
menu.formatter = <span class="hljs-function">(<span class="hljs-params">id, item</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"my-class"</span>&gt;</span>{item.label}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span>;
};
</code></pre></li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="..\..\..\../docs/en/API/components/toolbar.html"><span class="arrow-prev">← </span><span>Toolbar Component</span></a><a class="docs-next button" href="..\..\..\../docs/en/deprecated/deprecatedNamespaces.html"><span>Namespaces</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#location">Location</a></li><li><a href="#purpose">Purpose</a></li><li><a href="#public-api">Public API</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="..\..\..\../index.html" class="nav-home"><img src="..\..\..\../img/favicon.ico" alt="Aras Innovator Client Documentation" width="66" height="58"/></a></section><section class="copyright">Copyright © 2020 Aras.</section></footer></div></body></html>